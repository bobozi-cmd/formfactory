# grant_application.py

## f1
### record
```python
import asyncio
import re
from playwright.async_api import Playwright, async_playwright, expect


async def run(playwright: Playwright) -> None:
    browser = await playwright.chromium.launch(headless=False)
    context = await browser.new_context()
    page = await context.new_page()
    await page.goto("http://127.0.0.1:5000/academic-research/grant-application")
    await page.locator("input[name=\"first_name\"]").click()
    await page.locator("input[name=\"first_name\"]").fill("zhou")
    await page.locator("input[name=\"last_name\"]").click()
    await page.locator("input[name=\"last_name\"]").fill("xiaoming")
    await page.locator("input[name=\"email\"]").click()
    await page.locator("input[name=\"email\"]").fill("1210611257@qq.com")
    await page.get_by_role("textbox", name="YYYY/MM/DD").click()
    await page.get_by_role("textbox", name="YYYY/MM/DD").fill("2025/10/01")
    await page.get_by_role("textbox", name="YYYY/MM/DD").press("Enter")
    await page.locator("div").filter(has_text=re.compile(r"^Male$")).get_by_role("radio").check()

    # ---------------------
    await context.close()
    await browser.close()


async def main() -> None:
    async with async_playwright() as playwright:
        await run(playwright)


asyncio.run(main())
```

### summarize
```bash
python ./summarize.py playwright -f ./tmp_record.py -o ./tmp_out.py -u "http://127.0.0.1:5000/academic-research/grant-application" 
INFO     [browser_use] BrowserUse logging setup complete with level error
INFO     [telemetry] Anonymized telemetry enabled. See https://docs.browser-use.com/development/telemetry for more information.
‚ö†Ô∏è [Low level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: 
[INFO] 2025-10-29 19:54:07 Create a new browser instance
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 19:54:07 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 19:54:07 Set timeout to 5000ms
Enter anything after login > 
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 19:54:26 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 19:54:27 Set timeout to 5000ms
Enter anything to continue >
‚ö†Ô∏è [Low level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "Â°´ÂÜôÁî®Êà∑Âü∫Êú¨‰ø°ÊÅØÔºåÂåÖÊã¨ÂêçÂ≠ó„ÄÅÈÇÆÁÆ±„ÄÅÂá∫ÁîüÊó•ÊúüÂíåÊÄßÂà´„ÄÇ",
        "experience": "",
        "parameters": {
            "first_name": "Áî®Êà∑ÁöÑÂêçÂ≠ó, ÂèòÈáèÁ±ªÂûã: str",
            "last_name": "Áî®Êà∑ÁöÑÂßìÊ∞è, ÂèòÈáèÁ±ªÂûã: str",
            "email": "Áî®Êà∑ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ, ÂèòÈáèÁ±ªÂûã: str",
            "birth_date": "Áî®Êà∑ÁöÑÂá∫ÁîüÊó•ÊúüÔºåÊ†ºÂºè‰∏∫ YYYY/MM/DD, ÂèòÈáèÁ±ªÂûã: str",
            "gender": "Áî®Êà∑ÁöÑÊÄßÂà´ÈÄâÈ°πÔºåÊòØÂê¶ÈÄâÊã© 'Male', ÂèòÈáèÁ±ªÂûã: str"
        }
    }
    """
    await page.locator('input[name="first_name"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="first_name"]').fill(kwargs.get('first_name', 'zhou'))
    await asyncio.sleep(0.3)
    await page.locator('input[name="last_name"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="last_name"]').fill(kwargs.get('last_name', 'xiaoming'))
    await asyncio.sleep(0.3)
    await page.locator('input[name="email"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="email"]').fill(kwargs.get('email', '1210611257@qq.com'))
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').click()
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').fill(kwargs.get('birth_date', '2025/10/01'))
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').press('Enter')
    await asyncio.sleep(0.3)
    if kwargs.get('gender', 'Male') == 'Male':
        await page.locator('div').filter(has_text=re.compile('^Male$')).get_by_role('radio').check()
    await asyncio.sleep(0.3)
[Low level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > ÂØπ‰∫éÊÄßÂà´Ôºå‰Ω†ÈúÄË¶ÅÂèØ‰ª•Ê†πÊçÆÂèÇÊï∞ÈÄâÊã©maleËøòÊòØfemale
‚ö†Ô∏è [Low level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: ÂØπ‰∫éÊÄßÂà´Ôºå‰Ω†ÈúÄË¶ÅÂèØ‰ª•Ê†πÊçÆÂèÇÊï∞ÈÄâÊã©maleËøòÊòØfemale
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 19:55:19 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 19:55:20 Set timeout to 5000ms
Enter anything after login > 
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 19:55:38 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 19:55:38 Set timeout to 5000ms
Enter anything to continue >
‚ö†Ô∏è [Low level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "Â°´ÂÜôÁî®Êà∑Âü∫Êú¨‰ø°ÊÅØÔºåÂåÖÊã¨ÂêçÂ≠ó„ÄÅÈÇÆÁÆ±„ÄÅÂá∫ÁîüÊó•ÊúüÂíåÊÄßÂà´„ÄÇ",
        "experience": "",
        "parameters": {
            "first_name": "Áî®Êà∑ÁöÑÂêçÂ≠ó, ÂèòÈáèÁ±ªÂûã: str",
            "last_name": "Áî®Êà∑ÁöÑÂßìÊ∞è, ÂèòÈáèÁ±ªÂûã: str",
            "email": "Áî®Êà∑ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ, ÂèòÈáèÁ±ªÂûã: str",
            "birthdate": "Áî®Êà∑ÁöÑÂá∫ÁîüÊó•ÊúüÔºåÊ†ºÂºè‰∏∫ YYYY/MM/DD, ÂèòÈáèÁ±ªÂûã: str",
            "gender": "ÈÄâÊã©Áî®Êà∑ÁöÑÊÄßÂà´, {'Male': 'Áî∑', 'Female': 'Â•≥'}, ÂèòÈáèÁ±ªÂûã: str"
        }
    }
    """
    await page.locator('input[name="first_name"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="first_name"]').fill(kwargs['first_name'])
    await asyncio.sleep(0.3)
    await page.locator('input[name="last_name"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="last_name"]').fill(kwargs['last_name'])
    await asyncio.sleep(0.3)
    await page.locator('input[name="email"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="email"]').fill(kwargs['email'])
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').click()
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').fill(kwargs['birthdate'])
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').press('Enter')
    await asyncio.sleep(0.3)
    await page.locator('div').filter(has_text=re.compile(f'^{kwargs['gender']}$')).get_by_role('radio').check()
    await asyncio.sleep(0.3)
[Low level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > c
‚ö†Ô∏è [High level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: 
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 19:55:56 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 19:55:56 Set timeout to 5000ms
Enter anything after prepared > 
[DEBUG] 2025-10-29 19:55:58 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:55:58 Resize Image 88412 -> 63504
‚ö†Ô∏è Please execute step:
await page.locator('input[name="first_name"]').click()
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:04 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:04 Resize Image 89356 -> 64320
‚ö†Ô∏è Please execute step:
await page.locator('input[name="first_name"]').fill('zhou')
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:08 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:08 Resize Image 91688 -> 66116
‚ö†Ô∏è Please execute step:
await page.locator('input[name="last_name"]').click()
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:12 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:12 Resize Image 91324 -> 65800
‚ö†Ô∏è Please execute step:
await page.locator('input[name="last_name"]').fill('xiaoming')
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:16 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:16 Resize Image 95660 -> 68920
‚ö†Ô∏è Please execute step:
await page.locator('input[name="email"]').click()
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:21 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:21 Resize Image 95236 -> 68756
‚ö†Ô∏è Please execute step:
await page.locator('input[name="email"]').fill('1210611257@qq.com')
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:27 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:27 Resize Image 105124 -> 75076
‚ö†Ô∏è Please execute step:
await page.get_by_role('textbox', name='YYYY/MM/DD').click()
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:30 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:30 Resize Image 158092 -> 111372
‚ö†Ô∏è Please execute step:
await page.get_by_role('textbox', name='YYYY/MM/DD').fill('2025/10/01')
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:37 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:37 Resize Image 157664 -> 110604
‚ö†Ô∏è Please execute step:
await page.get_by_role('textbox', name='YYYY/MM/DD').press('Enter')
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:41 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:41 Resize Image 103568 -> 73588
‚ö†Ô∏è Please execute step:
await page.locator('div').filter(has_text=re.compile('^Male$')).get_by_role('radio').check()
Enter anything after executed > 
[DEBUG] 2025-10-29 19:56:45 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 19:56:45 Resize Image 103988 -> 73684
‚ö†Ô∏è [High level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "Â°´ÂÜôÁî®Êà∑Âü∫Êú¨‰ø°ÊÅØÔºåÂåÖÊã¨ÂêçÂ≠ó„ÄÅÈÇÆÁÆ±„ÄÅÂá∫ÁîüÊó•ÊúüÂíåÊÄßÂà´„ÄÇ",
        "experience": "Ë¶ÅÊàêÂäüÂ°´ÂÜôÁî≥ËØ∑Ë°®ÔºåÈ¶ñÂÖàÈúÄË¶ÅÂàÜÊ≠•È™§Êù•ÂÆåÊàê„ÄÇÂºÄÂßãÊó∂ÔºåÁÇπÂáª 'First Name' ËæìÂÖ•Ê°ÜÔºåÂπ∂ËæìÂÖ•ÂêçÂ≠ó„ÄÇÁÑ∂ÂêéÔºåÈÄâÊã© 'Last Name' ËæìÂÖ•Ê°ÜÔºåËæìÂÖ•ÂßìÊ∞è„ÄÇËØ∑Á°Æ‰øùÂú®ËæìÂÖ•ÂÜÖÂÆπ‰πãÂâçÂÖàÁÇπÂáªÂØπÂ∫îÁöÑËæìÂÖ•Ê°Ü„ÄÇÊé•‰∏ãÊù•ÔºåÂú® 'Email' ËæìÂÖ•Ê°Ü‰∏≠Â°´ÂÜôÊúâÊïàÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ„ÄÇÂØπ‰∫éÂá∫ÁîüÊó•ÊúüÔºåÁÇπÂáª 'Date of Birth' ËæìÂÖ•Ê°ÜÔºåÂπ∂‰ΩøÁî®Êó•ÊúüÈÄâÊã©Âô®ÈÄâÊã©Ê≠£Á°ÆÁöÑÊó•ÊúüÊ†ºÂºè‰∏∫ YYYY/MM/DD„ÄÇÈÄâÊã©ÊÄßÂà´Êó∂ÔºåÁÇπÂáªÂØπÂ∫îÁöÑÊÄßÂà´ÈÄâÈ°πÊåâÈíÆ„ÄÇÂú®ÊØè‰∏™Ê≠•È™§‰∏≠Á°Æ‰øùËæìÂÖ•Ê†ºÂºèÊ≠£Á°ÆÔºåÂèØ‰ª•ÈÅøÂÖçÂá∫Áé∞ÈîôËØØ„ÄÇ",
        "parameters": {
            "first_name": "Áî®Êà∑ÁöÑÂêçÂ≠ó, ÂèòÈáèÁ±ªÂûã: str",
            "last_name": "Áî®Êà∑ÁöÑÂßìÊ∞è, ÂèòÈáèÁ±ªÂûã: str",
            "email": "Áî®Êà∑ÁöÑÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ, ÂèòÈáèÁ±ªÂûã: str",
            "birthdate": "Áî®Êà∑ÁöÑÂá∫ÁîüÊó•ÊúüÔºåÊ†ºÂºè‰∏∫ YYYY/MM/DD, ÂèòÈáèÁ±ªÂûã: str",
            "gender": "ÈÄâÊã©Áî®Êà∑ÁöÑÊÄßÂà´, {'Male': 'Áî∑', 'Female': 'Â•≥'}, ÂèòÈáèÁ±ªÂûã: str"
        }
    }
    """
    await page.locator('input[name="first_name"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="first_name"]').fill(kwargs['first_name'])
    await asyncio.sleep(0.3)
    await page.locator('input[name="last_name"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="last_name"]').fill(kwargs['last_name'])
    await asyncio.sleep(0.3)
    await page.locator('input[name="email"]').click()
    await asyncio.sleep(0.3)
    await page.locator('input[name="email"]').fill(kwargs['email'])
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').click()
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').fill(kwargs['birthdate'])
    await asyncio.sleep(0.3)
    await page.get_by_role('textbox', name='YYYY/MM/DD').press('Enter')
    await asyncio.sleep(0.3)
    await page.locator('div').filter(has_text=re.compile(f'^{kwargs['gender']}$')).get_by_role('radio').check()
    await asyncio.sleep(0.3)
[High level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > c
```

## f2
### record
```python
import asyncio
import re
from playwright.async_api import Playwright, async_playwright, expect


async def run(playwright: Playwright) -> None:
    browser = await playwright.chromium.launch(headless=False)
    context = await browser.new_context()
    page = await context.new_page()
    await page.goto("http://127.0.0.1:5000/academic-research/grant-application")
    await page.get_by_role("checkbox").check()

    # ---------------------
    await context.close()
    await browser.close()


async def main() -> None:
    async with async_playwright() as playwright:
        await run(playwright)


asyncio.run(main())
```

### summarize
```bash
python ./summarize.py playwright -f ./tmp_record.py -o ./tmp_out.py -u "http://127.0.0.1:5000/academic-research/grant-application" -r "ÈÄâÊã©'Subscribe to Newsletter'"
INFO     [browser_use] BrowserUse logging setup complete with level error
INFO     [telemetry] Anonymized telemetry enabled. See https://docs.browser-use.com/development/telemetry for more information.
‚ö†Ô∏è [Low level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: ÈÄâÊã©'Subscribe to Newsletter'
[INFO] 2025-10-29 20:03:46 Create a new browser instance
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 20:03:46 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 20:03:46 Set timeout to 5000ms
Enter anything after login > 
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 20:03:56 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 20:03:56 Set timeout to 5000ms
Enter anything to continue >
‚ö†Ô∏è [Low level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "ÈÄâÊã©'Subscribe to Newsletter'",
        "experience": "",
        "parameters": {
            "subscribe_to_newsletter": "ÈÄâÊã©ÊòØÂê¶ËÆ¢ÈòÖÊñ∞ÈóªÈÄöËÆØ, {'checked': 'ËÆ¢ÈòÖ'}, ÂèòÈáèÁ±ªÂûã: str"
        }
    }
    """
    if kwargs['subscribe_to_newsletter'] == 'checked':
        await page.get_by_role('checkbox').check()
    await asyncio.sleep(0.3)
[Low level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > c
‚ö†Ô∏è [High level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: ÈÄâÊã©'Subscribe to Newsletter'
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 20:04:17 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 20:04:17 Set timeout to 5000ms
Enter anything after prepared > 
[DEBUG] 2025-10-29 20:04:25 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 20:04:25 Resize Image 88436 -> 63484
‚ö†Ô∏è Please execute step:
await page.get_by_role('checkbox').check()
Enter anything after executed > 
[DEBUG] 2025-10-29 20:04:32 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 20:04:32 Resize Image 88420 -> 63476
‚ö†Ô∏è [High level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "ÈÄâÊã©'Subscribe to Newsletter'",
        "experience": "Âú®'Grant Application'Ë°®Âçï‰∏≠ÔºåÈúÄË¶ÅÈÄâÊã©'ËÆ¢ÈòÖÊñ∞ÈóªÈÄöËÆØ'ÈÄâÈ°π„ÄÇÊâæÂà∞'Subscribe to Newsletter'ÊñáÊú¨ÊóÅËæπÁöÑÂ§çÈÄâÊ°ÜÔºåÂπ∂ÁÇπÂáªËØ•Â§çÈÄâÊ°Ü‰ª•ÈÄâ‰∏≠ÂÆÉ„ÄÇÁ°Æ‰øùÂ§çÈÄâÊ°ÜË¢´ÊàêÂäüÈÄâ‰∏≠‰ª•Ë°®Á§∫ÊÇ®ÁöÑËÆ¢ÈòÖÊÑèÂõæ„ÄÇ",
        "parameters": {
            "subscribe_to_newsletter": "ÈÄâÊã©ÊòØÂê¶ËÆ¢ÈòÖÊñ∞ÈóªÈÄöËÆØ, {'checked': 'ËÆ¢ÈòÖ'}, ÂèòÈáèÁ±ªÂûã: str"
        }
    }
    """
    if kwargs['subscribe_to_newsletter'] == 'checked':
        await page.get_by_role('checkbox').check()
    await asyncio.sleep(0.3)
[High level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > c
```

## f3
### record
```python
import asyncio
import re
from playwright.async_api import Playwright, async_playwright, expect


async def run(playwright: Playwright) -> None:
    browser = await playwright.chromium.launch(headless=False)
    context = await browser.new_context()
    page = await context.new_page()
    await page.goto("http://127.0.0.1:5000/academic-research/grant-application")
    await page.get_by_role("button", name="Submit").click()

    # ---------------------
    await context.close()
    await browser.close()


async def main() -> None:
    async with async_playwright() as playwright:
        await run(playwright)


asyncio.run(main())
```

### summarize
```bash
python ./summarize.py playwright -f ./tmp_record.py -o ./tmp_out.py -u "http://127.0.0.1:5000/academic-research/grant-application"
INFO     [browser_use] BrowserUse logging setup complete with level error
INFO     [telemetry] Anonymized telemetry enabled. See https://docs.browser-use.com/development/telemetry for more information.
‚ö†Ô∏è [Low level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: 
[INFO] 2025-10-29 20:08:44 Create a new browser instance
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 20:08:44 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 20:08:45 Set timeout to 5000ms
Enter anything after login > 
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 20:08:52 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 20:08:53 Set timeout to 5000ms
Enter anything to continue >
‚ö†Ô∏è [Low level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "ÁÇπÂáª 'Submit' ÊåâÈíÆ",
        "experience": "",
        "parameters": {}
    }
    """
    await page.get_by_role('button', name='Submit').click()
    await asyncio.sleep(0.3)
[Low level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > c
‚ö†Ô∏è [High level] ‰Ω†ÁöÑ‰ªªÂä°Ë¶ÅÊ±Ç: 
INFO     [browser] üîå  Connecting to remote browser via CDP http://localhost:9222
[INFO] 2025-10-29 20:09:03 http://localhost:9222 -> ws://localhost:9222/devtools/browser/f1a1df20-2498-4aad-bfb0-7460be673e77
INFO     [browser] üç™  Loaded 735 cookies from ./.save/cookies.json
[DEBUG] 2025-10-29 20:09:03 Set timeout to 5000ms
Enter anything after prepared > 
[DEBUG] 2025-10-29 20:09:15 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 20:09:15 Resize Image 91964 -> 67504
‚ö†Ô∏è Please execute step:
await page.get_by_role('button', name='Submit').click()
Enter anything after executed > 
[DEBUG] 2025-10-29 20:09:20 Screenshot scale factor: 0.5
[DEBUG] 2025-10-29 20:09:20 Resize Image 92632 -> 67932
‚ö†Ô∏è [High level] ÂΩìÂâçÈò∂ÊÆµÁîüÊàêÁöÑ‰ª£Á†Å:

from playwright.async_api import expect, Browser, BrowserContext, Page
import asyncio
import re
from datetime import datetime
from replayer.playwright.tools import ToolBox

async def run(browser: Browser, context: BrowserContext, page: Page, **kwargs) -> None:
    r"""
    {
        "desc": "ÁÇπÂáª 'Submit' ÊåâÈíÆ",
        "experience": "Âú®Â°´ÂÜôËøô‰∏™Áî≥ËØ∑Ë°®‰πãÂâçÔºå‰∏çË¶ÅÁõ¥Êé•ÁÇπÂáª 'Submit' ÊåâÈíÆ„ÄÇÈúÄË¶ÅÂÖàÂ°´ÂÜôÁõ∏Â∫îÁöÑËæìÂÖ•Ê°ÜÔºåÂåÖÊã¨ 'First Name', 'Last Name', 'Email' Âíå 'Date of Birth'„ÄÇÂè¶Â§ñÔºåÈúÄË¶ÅÈÄâÊã©‰∏Ä‰∏™ÈÄâÈ°πÊù•Ë°®Á§∫ÊÄßÂà´ÔºåÂπ∂ÂÜ≥ÂÆöÊòØÂê¶ËÆ¢ÈòÖÊñ∞ÈóªÈÄöËÆØ„ÄÇÂÆåÊàêËøô‰∫õÊ≠•È™§ÂêéÔºåÂÜçÁÇπÂáª 'Submit' ÊåâÈíÆËøõË°åÊèê‰∫§„ÄÇ",
        "parameters": {}
    }
    """
    await page.get_by_role('button', name='Submit').click()
    await asyncio.sleep(0.3)
[High level] Â¶ÇÊûúÁîüÊàêÁöÑÁªìÊûú‰∏çÊª°ÊÑè, ËØ∑ËæìÂÖ•Êñ∞ÁöÑÈúÄÊ±ÇÊù•ÈáçÊñ∞ÁîüÊàê; Â¶ÇÊûúÊª°ÊÑèÁîüÊàêÁöÑÁªìÊûú, ËæìÂÖ• c ËøõÂÖ•‰∏ã‰∏ÄÊ≠•ÁîüÊàê > c
```
